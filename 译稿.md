#你不知道的JavaScript － 类型和语法

##序

曾有人说：“JavaScript是唯一一门程序员先用后学的语言。”

每次听到这句话我都会付诸一笑，因为它对于我就是如此，不知道对其他程序员是否也一样。JavaScript，也许还有CSS和HTML，在互联网早期的大学计算机课程中并非主流的教学语言。新手程序员大多通过搜索和“查看源代码”的方式来自学这些Web的基础语言。

我仍然记得我高中时代的第一个网站项目。当时的任务是搭建一个网上商店，无论什么样的都行，因为我是詹姆斯∙邦德的粉丝，所以我决定搭建一个“黄金眼”商店。它包罗万象：背景音乐是“黄金眼”主题曲，有一个用JavaScript开发的瞄准器跟随鼠标移动，每次点击鼠标的时候会发出一声枪响。Q(JJ-??)实在应该为这个网站杰作感到骄傲。

我之所以讲到这个故事，是因为我当时使用的开发方式直到现在仍然有许多程序员在使用。我在项目中“拷贝－粘贴”了很多JavaScript代码，但根本没有理解它们是干什么的。现在流行的jQuery这样的JavaScript工具集，也在以它们各自的方式潜移默化地进一步鼓励了不深入学习JavaScript的方式。

我并不反对使用JavaScript工具集，事实上我还是MooTools JavaScript团队的成员之一。这些工具集功能如此强大的原因，恰恰是它们的开发者们从根本上了解它们，并且将其运用到了极致。了解这门语言的基本知识对我们来说仍然是非常重要的，这与掌握那些工具集一样会对我们非常有帮助。象Kyle Simpson的《你不知道的JS》系列这样的书，我们实在没有理由不学习。

《类型和语法》是该系列的第三本，它介绍了JavaScript核心基础知识，这些知识你永远不可能从“拷贝－粘贴”和JavaScript工具集中学到。前置（coercion）及其隐患、原生构造方法(JJ-??)、以及JavaScript的全部基础知识都在本书中做了详细的介绍，并配合以示例代码。同本系列的其他作品一样，Kyle的行文直中要点，没有多余的套话和修辞(JJ-??)，是我喜欢的技术书风格。

希望你们喜欢《类型和语法》这本书，并能够常读常新。

-David Walsh[http://davidwalsh.name](http://davidwalsh.name)
Senior Web Developer at Mozilla

------

##前言

我想你已经注意到了本书中的“JS”一词，但是它并非是用来咒骂JavaScript的简语，虽然咒骂一门语言是我们作为程序员的标志。

从互联网最早期开始，JavaScript就一直是实现内容交互体验的基本技术。虽然刚开始是用来实现鼠标移动轨迹闪烁效果，还有令人讨厌的弹出消息框。大约20年之后，JavaScript技术和功能得到了数量级的提高，没有人再怀疑它在互联网，这个世界上使用最广泛的软件系统，中的重要性和核心地位。

但是作为一门语言，它一直为人诟病，包括其历史沿革，更多是它的设计理念。它的命名，相对于其更成熟的哥哥Java，也被Brendan Eich称为“傻弟弟”。其实它的命名仅仅是政治和市场考量下的一个偶然。两个语言之间千差万别，“JavaScript”和“Java”之间如同“Carnival”（嘉年华）和“Car”之间一样毫无关联。

JavaScript在概念上和语法习惯上借鉴了许多语言，包括壮观的C风格的程序根，和相对隐晦的Scheme/Lisp风格的函数根，它能为更多的开发人员接受，包括没有编程经验的人。用JavaScript编写“Hello World”非常简单，让人很容易上手。

JavaScript或许是最容易上手和使用的语言之一，但是它的一些古怪的行为使得它不像其他语言那样容易完全掌握。使用C或者C++开发一个完整的程序需要对该语言有一个相当深入的了解。然而对于JavaScript来说，就算你使用它开发了一个完整的系统，也不见得对这门语言有什么深入理解。

这门语言中那些隐藏得很深的复杂概念，往往以一种看似简单的方式呈现，例如：将函数作为回调参数传递，使得JavaScript程序员乐于使用现成的语言机制，而不愿意去了解其中的原因。

JavaScript是一门简单易用的语言，应用广泛，同时又有着复杂和声名狼藉的语言机制，如果不用心掌握，即使经验丰富的JavaScript程序员也会对其出现理解上的偏差。

JavaScript的悖论就在于此，它的阿基里斯之踵正是我们要在本书解决的问题。因为你不需要理解就能够使用它，所以常常最终也不会去理解它。

###使命

在使用JavaScript时，每当遇到令人讶异或者抓狂的情况，你的反应如果是置之不理（这是人之常情），你很快会发现自己无法发挥这门语言的任何优势(JJ-??)。

这部分经常被称为“好的部分（The Good Parts）”，但我恳请读者朋友们不如把它视作“容易的部分”，“安全的部分”，甚至于“不完整的部分”。

《你不知道的JS》系列涉及的是另一个部分，即深入掌握JavaScript的所有知识，特别是那些重点难点。

我们让本书的内容对于JS程序员来说易于理解，而不强迫他们深入到原理。此外，在碰到疑难问题的时候我们不会避而不谈。

我不会满足于只是让代码运行而不明就里，，你也不应该仅仅满足于此。我会逐步用一些难点来挑战你，最终让你全面掌握JavaScript的威力。一旦掌握了这些知识，你将无法想象不需要技巧，框架，术语会是多么美妙的事情(JJ-??)。

本系列中的每本书非常深入全面地探讨了JavaScript中那些被误解，或者被低估的关键知识点。

